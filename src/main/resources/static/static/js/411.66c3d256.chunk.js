"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[411],{1792:(e,r,s)=>{s.r(r),s.d(r,{default:()=>A});var t=s(4535),n=s(39),l=s(7353),a=s(3193),i=s(9190),c=s(573),o=s(6990),d=s(1596),u=s(9650),h=s(1806),p=s(4882),x=s(8076),j=s(3460),m=s(5043),g=s(2407),y=s(579);const f=(0,t.Ay)(n.A)((e=>{let{theme:r}=e;return{textAlign:"center",padding:"2px",verticalAlign:"middle",border:"1px solid rgb(11, 1, 1)",backgroundColor:"white",height:"30px"}}));function A(){const[e,r]=(0,m.useState)({autumn:[],spring:[]}),[s,t]=(0,m.useState)("autumn"),[n,A]=(0,m.useState)([]),[w,C]=(0,m.useState)(!0);(0,m.useEffect)((()=>{(async()=>{C(!0);try{const e=await g.l.getCourse();if(e&&"object"===typeof e){const t=e;r({autumn:Array.isArray(t.autumn)?t.autumn:[],spring:Array.isArray(t.spring)?t.spring:[]}),A(Array.isArray(t[s])?t[s]:[])}else console.error("Unexpected response format"),r({autumn:[],spring:[]}),A([])}catch(e){console.error("Something went wrong: "+e),r({autumn:[],spring:[]}),A([])}finally{C(!1)}})()}),[s]),(0,m.useEffect)((()=>{A(e[s]||[]),console.log("Plans updated:",e[s])}),[s,e]);return(0,y.jsxs)(l.A,{children:[(0,y.jsx)(l.A,{sx:{mb:2,mt:2},children:(0,y.jsxs)(a.A,{fullWidth:!0,children:[(0,y.jsx)(i.A,{id:"season-select-label",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0435\u043c\u0435\u0441\u0442\u0440"}),(0,y.jsxs)(c.A,{labelId:"season-select-label",id:"season-select",value:s,label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0435\u043c\u0435\u0441\u0442\u0440",onChange:e=>{t(e.target.value)},children:[(0,y.jsx)(o.A,{value:"autumn",children:"\u041e\u0441\u0435\u043d\u044c"}),(0,y.jsx)(o.A,{value:"spring",children:"\u0412\u0435\u0441\u043d\u0430"})]})]})}),(0,y.jsxs)(d.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,y.jsxs)(u.A,{sx:{maxHeight:"78vh"},children:[" ",(0,y.jsxs)(h.A,{stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed","& .MuiTableCell-stickyHeader":{backgroundColor:"white",zIndex:1}},children:[(0,y.jsx)(p.A,{children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(f,{children:"#"}),(0,y.jsx)(f,{children:"name"}),(0,y.jsx)(f,{children:"shortName"}),(0,y.jsx)(f,{children:"group"}),(0,y.jsx)(f,{children:"course"}),(0,y.jsx)(f,{children:"semester"}),(0,y.jsx)(f,{children:"ects"}),(0,y.jsx)(f,{children:"totalHours"}),(0,y.jsx)(f,{children:"lectureHours"}),(0,y.jsx)(f,{children:"labHours"}),(0,y.jsx)(f,{children:"practiceHours"}),(0,y.jsx)(f,{children:"individualTask"}),(0,y.jsx)(f,{children:"Credit"}),(0,y.jsx)(f,{children:"Exam"})]})}),(0,y.jsx)(j.A,{children:w?(0,y.jsx)(x.A,{children:(0,y.jsx)(f,{colSpan:13,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})}):0===n.length?(0,y.jsx)(x.A,{children:(0,y.jsx)(f,{colSpan:13,children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}):n.map(((e,r)=>(0,y.jsxs)(x.A,{children:[(0,y.jsx)(f,{children:r+1}),(0,y.jsx)(f,{children:e.name}),(0,y.jsx)(f,{children:e.shortName}),(0,y.jsx)(f,{children:e.groups}),(0,y.jsx)(f,{children:e.course}),(0,y.jsx)(f,{children:e.semester}),(0,y.jsx)(f,{children:e.ects}),(0,y.jsx)(f,{children:e.totalHours}),(0,y.jsx)(f,{children:e.lectureHours}),(0,y.jsx)(f,{children:e.labHours}),(0,y.jsx)(f,{children:e.practiceHours}),(0,y.jsx)(f,{children:e.individualTask}),(0,y.jsx)(f,{children:e.hasCredit?"\u0417":""}),(0,y.jsx)(f,{children:e.hasExam?"E":""})]},r)))})]})]}),(0,y.jsxs)(l.A,{sx:{p:2,display:"flex",justifyContent:"flex-end"},children:["\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0435\u0439: ",n.length]})]})]})}},2407:(e,r,s)=>{s.d(r,{l:()=>n});const t=s(6213).A.create({baseURL:"http://localhost:8080/api/",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.interceptors.request.use((e=>{var r;return console.log(`${null===(r=e.method)||void 0===r?void 0:r.toUpperCase()} ${e.url}`,e),e}),(e=>(console.error("REQ FAIL: ",e),Promise.reject(e)))),t.interceptors.response.use((e=>(console.log("RES: ",e),e)),(async e=>{var r,s;return console.error(`${e.config.method.toUpperCase()}: ${e.config.url} ${e.code}`,e),null!==(r=e.response)&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&s.message?Promise.resolve(e.response):Promise.reject(e)}));const n={async getPlans(e){try{return(await t.get(`/curriculum/${e}/all`)).data}catch(r){return console.error("Error fetching plans:",r),[]}},async getAllCurriculums(){try{return(await t.get("/curriculum/")).data}catch(e){return console.error("Error fetching all curriculums:",e),[]}},async importSingleFile(e){try{const r=new FormData;r.append("file",e);return(await t.post("/import/single",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){return console.error("Error importing file:",r),[]}},async importMultiFile(e){try{const r=new FormData;e.forEach((e=>{r.append("file",e)}));return(await t.post("/import/multiple",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){return console.error("Error importing file:",r),[]}},async importDirectory(e){try{return(await t.post("/import/directory",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){return console.error("Error fetching all curriculums:",r),[]}},async getCourse(){try{return(await t.get("/export/")).data}catch(e){return console.error("Error fetching all courses:",e),[]}}}}}]);
//# sourceMappingURL=411.66c3d256.chunk.js.map